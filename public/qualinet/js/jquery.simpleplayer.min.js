!function(t){"use strict";t.fn.player=function(s){var n={defaultVolume:.8};s&&t.extend(n,s);var o='<span class="play-control"></span>';return this.each(function(){t(this).before('<div class="player-container">'),t(this).after("</div>"),t(this).parent().find(".player-container").prepend('<div class="play-pause-button"><div class="start-button">'+o+'</div></div><div class="progressbar-wrapper"><span class="progressbar-container" style="width: 100%; "><span class="progressbar" style="width: 0%; "></span></span></div><div class="volume-control"></div>');var s=t(this).get(0),a=t(this).parent().find(".start-button"),e=t(this).parent().find(".volume-control"),r=t(this).parent().find(".progressbar-wrapper"),i=t(this).parent().find(".progressbar");s.volume=n.defaultVolume,e.click(function(){t(this).hasClass("volume-muted")?(s.volume=1,t(this).removeClass("volume-muted")):(s.volume=0,t(this).addClass("volume-muted"))}),a.click(function(){s.paused?(t.each(t("audio"),function(){this.pause(),t(this).parent().find(".stop-control").addClass("play-control").removeClass("stop-control")}),s.play(),t(this).find(".play-control").addClass("stop-control").removeClass("play-control")):(s.pause(),t(this).find(".stop-control").addClass("play-control").removeClass("stop-control"))}),r.click(function(n){if(0!=s.duration){var o=t(this).offset().left,a=n.pageX-o,e=a/r.width(),i=e*s.duration;s.currentTime=i}}),t(s).bind("ended",function(){s.pause(),a.find(".stop-control").addClass("play-control").removeClass("stop-control"),i.css("width","0%")}),t(s).bind("timeupdate",function(){var t=this.duration,s=this.currentTime,n=s/t,o=100*n;o&&i.css("width",o+"%")}),"autoplay"==t(this).attr("autoplay")&&a.click()}),this}}(jQuery);
